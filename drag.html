<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
	html,body{
		margin: 0;
		padding: 0;
	}
	.drag{
		width: 200px;
		height: 200px;
		background-color: #dc7171;
		text-align: center;
		line-height: 200px;
		color: white;
	}
	</style>
</head>
<body>
<div class="drag" id="dragdiv">拖动</div>
<script type="text/javascript" src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript">
	$(function () {
		var divX = 0,divY=0,mouseX=0,mouseY=0;
		$(".drag").on("mousedown",function(e){
			mouseX = e.pageX;
			mouseY = e.pageY;
			console.log(mouseX,mouseY);
			var divPos = $(this).offset();
			divX = divPos.left;
			divY = divPos.top;
			$(".drag").on("mousemove",move);
		});

		function move(e){
			var newLeft = divX+(e.pageX-mouseX);
			var newTop = divY+(e.pageY-mouseY);
			$(this).css({
				left:newLeft+'px',
				top:newTop+'px',
				position:'absolute',
				cursor: 'move',
			})
			console.log(newLeft,newTop);
		}
		$(document).on("mouseup",function(e){
			$(".drag").unbind('mousemove');
		})
		
	})
</script>
</body>
</html>